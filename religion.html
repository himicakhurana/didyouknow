<!DOCTYPE html>
<html>
<head>
  <title>Religion</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="quiz.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#"><img class="logo" src="logo.PNG"></a>
    </div>
    <ul class="nav navbar-nav">
   <li ><a href="index.html">Home</a></li>
      <li><a href="quiz_login.html">Login</a></li>
      <li><a href="quiz_signup.html">Sign Up</a></li>
      <li><a href="instructions.html">Instructions</a></li>
      <li><a href="ocean.html">Ocean</a></li>
      <li><a href="gun.html">Guns</a></li>
      <li  class="active"><a href="#">Religion</a></li>
      <li><a href="lgbtq.html">LGBTQ</a></li>
      <li><a href="rights.html">Rights</a></li>
      <li><a href="quiz_aria.html">Play </a></li>

    </ul>
  </div>
</nav>

<div class="container">

<script>

const myQuestions = [
  {
    question: "Which country has the most un-religious population?",
    answers: {
      a: "London",
      b: "China",
      c: "Canada",
      d: "Australia"
  },
  correctAnswer: "b"
  },
  {
    question: "In how many countries were Muslims discriminated against between the years of 2006 and 2010?",
    answers: {
      a: "48 countries",
      b: "93 countries",
      c: "121 countries",
      d: "129 countries"
    },
    correctAnswer: "c"
  },
  {
    question: "In what fraction of countries were women harassed while wearing religious clothing?",
    answers: {
      a: "1/3",
      b: "1/4",
      c: "1/6",
      d: "1/2",
    },
    correctAnswer: "a"
  },
  {
    question: "On average, how many Mosque's are getting attacked from January-July 2017?",
    answers: {
      a: "3 per month",
      b: "2 per week",
      c: "5 per month",
      d: "1 per week"
    },
    correctAnswer: "b"
  },
  {
    question: "How many Muslims were killed due to the recent New Zealand shooting?",
    answers: {
      a: "25 people",
      b: "32 people",
      c: "50 people",
      d: "45 people",
    },
    correctAnswer: "b"
  }
];            var x = '';
        var i = 0, j = 0;

        var score = 0;
        function show_score() {
            score = 0;
            var inputs = quiz.elements;
            var radios = [];

            //Loop and find only the Radios
            for (var i = 0; i < inputs.length; ++i) {
                if (inputs[i].type == 'radio') {
                    radios.push(inputs[i]);
                }
            }

            //var found = 1;
            for (var i = 0; i < radios.length; i++) {
                var question_number = (radios[i].name);
                var question_val = (radios[i].value);
                question_number = question_number.replace('question', '');
                q = Number(question_number);
                var correctAnswer = (myQuestions[q].correctAnswer);

                if (radios[i].checked) {
                    console.log(question_val);
                    if (question_val == correctAnswer) {
                        score = score + 1;
                        radios[i].parentElement.setAttribute("class", "correct-answer");
                    } else {
                        radios[i].parentElement.setAttribute("class", "wrong-answer");
                        var node = document.createElement("span");
                        var textnode = document.createTextNode('Correct Answer : ' + correctAnswer);
                        node.appendChild(textnode);
                        if (!radios[i].parentElement.parentElement.querySelector('span')) {
                            radios[i].parentElement.parentElement.appendChild(node);
                        }

                    }


                } else {

                    radios[i].parentElement.setAttribute("class", "unchecked-answer");


                }


            }
            document.getElementById("score").innerHTML = score;


        }


        function show_quiz() {
                                    x = '';

            for (i = 0; i < myQuestions.length; i++) {
                var question_i = myQuestions[i].question;
                x = x + '<div class="question">' + question_i + ' </div>';
                x = x + '<div class="answers">';
                $.each(myQuestions[i].answers, function (key, value) {
                    x = x + '<label><input type="radio" name="question' + i + '" value="' + key + '">' + key + ' : ' + value + '</label>'
                });
                x = x + '</div>'
                //var hint = 'hint';
//  x = x + '<button onclick="alert(';
//  x = x + "'" + hint + "'";
//  x = x + ')"';;
//  x=x+'>Hint</button>';

            }
            document.getElementById("quiz_list").innerHTML = x;
        }


    </script>

    <button onclick="show_quiz()">Play</button>
    <button onclick="show_score()">Score</button>
    <span id='score'>0</span>

    <form name="quiz" id='quiz_list'></form>
</div>
</body>
</html>